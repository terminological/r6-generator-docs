<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>R6 Generator Maven Plugin: Metadata and Maven configuration • testRapi</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="R6 Generator Maven Plugin: Metadata and Maven configuration">
<meta property="og:description" content="testRapi">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">testRapi</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.6.1.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/testRapi.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/R6-generator-datatypes.html">R6 Generator Maven Plugin: Datatype conversion</a>
    </li>
    <li>
      <a href="../articles/R6-generator-features.html">R6 Generator Maven Plugin: Key features</a>
    </li>
    <li>
      <a href="../articles/R6-generator-maven-config.html">R6 Generator Maven Plugin: Metadata and Maven configuration</a>
    </li>
    <li>
      <a href="../articles/R6-generator-runtime.html">R6 Generator Runtime: Using R Datatypes in Java</a>
    </li>
    <li>
      <a href="../articles/web-only/R6-generator-maven-archetype.html">R6 Generator Maven Archetype: Recommended project setup</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/terminological/r6-generator-docs/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="R6-generator-maven-config_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>R6 Generator Maven Plugin: Metadata and Maven configuration</h1>
                        <h4 data-toc-skip class="author">Rob Challen</h4>
            
            <h4 data-toc-skip class="date">26/10/2020</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/terminological/r6-generator-docs/blob/HEAD/java/vignettes/R6-generator-maven-config.Rmd" class="external-link"><code>java/vignettes/R6-generator-maven-config.Rmd</code></a></small>
      <div class="hidden name"><code>R6-generator-maven-config.Rmd</code></div>

    </div>

    
    
<div class="watermark">
DRAFT
</div>
<div class="section level2">
<h2 id="maven-pom-xml-options">Maven <code>pom.xml</code> options<a class="anchor" aria-label="anchor" href="#maven-pom-xml-options"></a>
</h2>
<p>An example of the Maven configuration from this test project is shown below. The key parts of this configuration are described below:</p>
<ul>
<li>Dependency on the <code>r6-generator-runtime</code> Java library.</li>
<li>Github Maven repository declarations for both code and plugins.</li>
<li>Plugin configuration for the <code>r6-generator-maven-plugin</code>.</li>
</ul>
<div class="section level3">
<h3 id="sample-pom-xml">Sample <code>pom.xml</code><a class="anchor" aria-label="anchor" href="#sample-pom-xml"></a>
</h3>
<div class="sourceCode" id="cb1"><pre class="sourceCode xml"><code class="sourceCode xml"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true"></a><span class="kw">&lt;project</span><span class="ot"> xmlns=</span><span class="st">"http://maven.apache.org/POM/4.0.0"</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true"></a><span class="ot">    xmlns:xsi=</span><span class="st">"http://www.w3.org/2001/XMLSchema-instance"</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true"></a><span class="ot">    xsi:schemaLocation=</span><span class="st">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span><span class="kw">&gt;</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true"></a>    <span class="kw">&lt;modelVersion&gt;</span>4.0.0<span class="kw">&lt;/modelVersion&gt;</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true"></a>...</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true"></a>    <span class="kw">&lt;properties&gt;</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true"></a>        <span class="kw">&lt;project.build.sourceEncoding&gt;</span>UTF-8<span class="kw">&lt;/project.build.sourceEncoding&gt;</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true"></a>        <span class="kw">&lt;maven.compiler.source&gt;</span>1.8<span class="kw">&lt;/maven.compiler.source&gt;</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true"></a>        <span class="kw">&lt;maven.compiler.target&gt;</span>1.8<span class="kw">&lt;/maven.compiler.target&gt;</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true"></a>        <span class="kw">&lt;r6.version&gt;</span>0.6.2-SNAPSHOT<span class="kw">&lt;/r6.version&gt;</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true"></a>    <span class="kw">&lt;/properties&gt;</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true"></a></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true"></a>    <span class="kw">&lt;groupId&gt;</span>io.github.terminological<span class="kw">&lt;/groupId&gt;</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true"></a>    <span class="kw">&lt;artifactId&gt;</span>r6-generator-docs<span class="kw">&lt;/artifactId&gt;</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true"></a>    <span class="kw">&lt;version&gt;</span>${r6.version}<span class="kw">&lt;/version&gt;</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true"></a>    <span class="kw">&lt;packaging&gt;</span>jar<span class="kw">&lt;/packaging&gt;</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true"></a></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true"></a>    <span class="kw">&lt;name&gt;</span>R6 Generator Maven Plugin Test<span class="kw">&lt;/name&gt;</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true"></a></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true"></a>    <span class="kw">&lt;dependencies&gt;</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true"></a>        <span class="kw">&lt;dependency&gt;</span></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true"></a>            <span class="kw">&lt;groupId&gt;</span>io.github.terminological<span class="kw">&lt;/groupId&gt;</span></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true"></a>            <span class="kw">&lt;artifactId&gt;</span>r6-generator-runtime<span class="kw">&lt;/artifactId&gt;</span></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true"></a>            <span class="kw">&lt;version&gt;</span>${r6.version}<span class="kw">&lt;/version&gt;</span></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true"></a>        <span class="kw">&lt;/dependency&gt;</span></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true"></a>...</span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true"></a>    <span class="kw">&lt;/dependencies&gt;</span></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true"></a>...</span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true"></a>    <span class="co">&lt;!-- Resolve SNAPSHOTS of the runtime library on Github packages --&gt;</span></span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true"></a>    <span class="co">&lt;!-- not needed if you pare using a stable r6.version of the r6-generator-runtime </span></span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true"></a><span class="co">        and r6-generator-maven-plugin from Maven central rather than xx.xx.xx-SNAPSHOT --&gt;</span></span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true"></a>    <span class="kw">&lt;repositories&gt;</span></span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true"></a>        <span class="kw">&lt;repository&gt;</span></span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true"></a>            <span class="kw">&lt;id&gt;</span>terminological snapshots<span class="kw">&lt;/id&gt;</span></span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true"></a>            <span class="kw">&lt;url&gt;</span>https://maven.pkg.github.com/terminological/m2repo<span class="kw">&lt;/url&gt;</span></span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true"></a>        <span class="kw">&lt;/repository&gt;</span></span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true"></a>    <span class="kw">&lt;/repositories&gt;</span></span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true"></a></span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true"></a>    <span class="co">&lt;!-- Resolve SNAPSHOTS of the maven plugin on Github packages --&gt;</span></span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true"></a>    <span class="kw">&lt;pluginRepositories&gt;</span></span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true"></a>        <span class="kw">&lt;pluginRepository&gt;</span></span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true"></a>            <span class="kw">&lt;id&gt;</span>terminological snapshots<span class="kw">&lt;/id&gt;</span></span>
<span id="cb1-43"><a href="#cb1-43" aria-hidden="true"></a>            <span class="kw">&lt;url&gt;</span>https://maven.pkg.github.com/terminological/m2repo<span class="kw">&lt;/url&gt;</span></span>
<span id="cb1-44"><a href="#cb1-44" aria-hidden="true"></a>        <span class="kw">&lt;/pluginRepository&gt;</span></span>
<span id="cb1-45"><a href="#cb1-45" aria-hidden="true"></a>    <span class="kw">&lt;/pluginRepositories&gt;</span></span>
<span id="cb1-46"><a href="#cb1-46" aria-hidden="true"></a>...</span>
<span id="cb1-47"><a href="#cb1-47" aria-hidden="true"></a>    <span class="kw">&lt;build&gt;</span></span>
<span id="cb1-48"><a href="#cb1-48" aria-hidden="true"></a>        <span class="kw">&lt;plugins&gt;</span></span>
<span id="cb1-49"><a href="#cb1-49" aria-hidden="true"></a>...</span>
<span id="cb1-50"><a href="#cb1-50" aria-hidden="true"></a>            <span class="kw">&lt;plugin&gt;</span></span>
<span id="cb1-51"><a href="#cb1-51" aria-hidden="true"></a>                <span class="kw">&lt;groupId&gt;</span>io.github.terminological<span class="kw">&lt;/groupId&gt;</span></span>
<span id="cb1-52"><a href="#cb1-52" aria-hidden="true"></a>                <span class="kw">&lt;artifactId&gt;</span>r6-generator-maven-plugin<span class="kw">&lt;/artifactId&gt;</span></span>
<span id="cb1-53"><a href="#cb1-53" aria-hidden="true"></a>                <span class="kw">&lt;version&gt;</span>${r6.version}<span class="kw">&lt;/version&gt;</span></span>
<span id="cb1-54"><a href="#cb1-54" aria-hidden="true"></a>                <span class="kw">&lt;configuration&gt;</span></span>
<span id="cb1-55"><a href="#cb1-55" aria-hidden="true"></a>                    <span class="kw">&lt;packageData&gt;</span></span>
<span id="cb1-56"><a href="#cb1-56" aria-hidden="true"></a>                        <span class="co">&lt;!-- R package metadata: --&gt;</span></span>
<span id="cb1-57"><a href="#cb1-57" aria-hidden="true"></a>                        <span class="kw">&lt;title&gt;</span>A test library<span class="kw">&lt;/title&gt;</span></span>
<span id="cb1-58"><a href="#cb1-58" aria-hidden="true"></a>                        </span>
<span id="cb1-59"><a href="#cb1-59" aria-hidden="true"></a>                        <span class="co">&lt;!-- As this project is documenting the r6-generator-maven-plugin </span></span>
<span id="cb1-60"><a href="#cb1-60" aria-hidden="true"></a><span class="co">                        I am syncing R package version with the r6-generator version. </span></span>
<span id="cb1-61"><a href="#cb1-61" aria-hidden="true"></a><span class="co">                        This is unlikely to be what you want to do. --&gt;</span></span>
<span id="cb1-62"><a href="#cb1-62" aria-hidden="true"></a>                        <span class="kw">&lt;version&gt;</span>${r6.version}<span class="kw">&lt;/version&gt;</span></span>
<span id="cb1-63"><a href="#cb1-63" aria-hidden="true"></a>                         </span>
<span id="cb1-64"><a href="#cb1-64" aria-hidden="true"></a>                        <span class="co">&lt;!-- Instead you most likely want to sync the R package </span></span>
<span id="cb1-65"><a href="#cb1-65" aria-hidden="true"></a><span class="co">                        version to your Java artifact version in a "normal" project </span></span>
<span id="cb1-66"><a href="#cb1-66" aria-hidden="true"></a><span class="co">                        e.g.: --&gt;</span></span>
<span id="cb1-67"><a href="#cb1-67" aria-hidden="true"></a>                        <span class="co">&lt;!-- &lt;version&gt;${project.version}&lt;/version&gt; --&gt;</span></span>
<span id="cb1-68"><a href="#cb1-68" aria-hidden="true"></a>                        <span class="co">&lt;!-- Note that -SNAPSHOT java versions will be rolled </span></span>
<span id="cb1-69"><a href="#cb1-69" aria-hidden="true"></a><span class="co">                        back to previous patch version for the R package </span></span>
<span id="cb1-70"><a href="#cb1-70" aria-hidden="true"></a><span class="co">                        so 0.1.1-SNAPSHOT (Java) becomes 0.1.0.9000 (R)</span></span>
<span id="cb1-71"><a href="#cb1-71" aria-hidden="true"></a><span class="co">                        this is due to the difference between R and Java versioning </span></span>
<span id="cb1-72"><a href="#cb1-72" aria-hidden="true"></a><span class="co">                        strategies. R tools typically use non-standard semantic </span></span>
<span id="cb1-73"><a href="#cb1-73" aria-hidden="true"></a><span class="co">                        versioning. --&gt;</span></span>
<span id="cb1-74"><a href="#cb1-74" aria-hidden="true"></a>                        </span>
<span id="cb1-75"><a href="#cb1-75" aria-hidden="true"></a>                        <span class="co">&lt;!-- Alternatively you can manage the R package version </span></span>
<span id="cb1-76"><a href="#cb1-76" aria-hidden="true"></a><span class="co">                        manually by putting a R style version</span></span>
<span id="cb1-77"><a href="#cb1-77" aria-hidden="true"></a><span class="co">                        of the format 0.1.0.9000.  e.g. --&gt;</span></span>
<span id="cb1-78"><a href="#cb1-78" aria-hidden="true"></a>                        <span class="co">&lt;!-- &lt;version&gt;0.1.0.9000&lt;/version&gt; --&gt;</span></span>
<span id="cb1-79"><a href="#cb1-79" aria-hidden="true"></a>                        </span>
<span id="cb1-80"><a href="#cb1-80" aria-hidden="true"></a>                        <span class="kw">&lt;doi&gt;</span>10.5281/zenodo.6645134<span class="kw">&lt;/doi&gt;</span></span>
<span id="cb1-81"><a href="#cb1-81" aria-hidden="true"></a>                        <span class="kw">&lt;packageName&gt;</span>testRapi<span class="kw">&lt;/packageName&gt;</span></span>
<span id="cb1-82"><a href="#cb1-82" aria-hidden="true"></a>                        <span class="kw">&lt;githubOrganisation&gt;</span>terminological<span class="kw">&lt;/githubOrganisation&gt;</span></span>
<span id="cb1-83"><a href="#cb1-83" aria-hidden="true"></a>                        <span class="kw">&lt;githubRepository&gt;</span>r6-generator-docs<span class="kw">&lt;/githubRepository&gt;</span></span>
<span id="cb1-84"><a href="#cb1-84" aria-hidden="true"></a>                        <span class="co">&lt;!-- often (but not in this case) the repository will be </span></span>
<span id="cb1-85"><a href="#cb1-85" aria-hidden="true"></a><span class="co">                        the same as the package, e.g.: --&gt;</span> </span>
<span id="cb1-86"><a href="#cb1-86" aria-hidden="true"></a>                        <span class="co">&lt;!-- &lt;githubRepository&gt;${packageName}&lt;/githubRepository&gt; --&gt;</span></span>
<span id="cb1-87"><a href="#cb1-87" aria-hidden="true"></a>                        </span>
<span id="cb1-88"><a href="#cb1-88" aria-hidden="true"></a>                        <span class="kw">&lt;license&gt;</span>MIT<span class="kw">&lt;/license&gt;</span></span>
<span id="cb1-89"><a href="#cb1-89" aria-hidden="true"></a>                        </span>
<span id="cb1-90"><a href="#cb1-90" aria-hidden="true"></a>                        <span class="co">&lt;!-- this is the Description field in the R DESCRIPTION file</span></span>
<span id="cb1-91"><a href="#cb1-91" aria-hidden="true"></a><span class="co">                        CRAN specifies some standards for this, such as it </span></span>
<span id="cb1-92"><a href="#cb1-92" aria-hidden="true"></a><span class="co">                        should not start with the package name and must pass </span></span>
<span id="cb1-93"><a href="#cb1-93" aria-hidden="true"></a><span class="co">                        spellchecks any references to other packages mut be in </span></span>
<span id="cb1-94"><a href="#cb1-94" aria-hidden="true"></a><span class="co">                        single quotes.--&gt;</span></span>
<span id="cb1-95"><a href="#cb1-95" aria-hidden="true"></a>                        <span class="kw">&lt;description&gt;</span></span>
<span id="cb1-96"><a href="#cb1-96" aria-hidden="true"></a>                            Documents the features of the 'r6-generator-maven-plugin' </span>
<span id="cb1-97"><a href="#cb1-97" aria-hidden="true"></a>                            by providing an example of an R package automatically </span>
<span id="cb1-98"><a href="#cb1-98" aria-hidden="true"></a>                            generated from Java code by the plugin. It is not </span>
<span id="cb1-99"><a href="#cb1-99" aria-hidden="true"></a>                            intended to be useful beyond testing, demonstrating </span>
<span id="cb1-100"><a href="#cb1-100" aria-hidden="true"></a>                            and documenting the features of the r6 generator plugin.</span>
<span id="cb1-101"><a href="#cb1-101" aria-hidden="true"></a>                        <span class="kw">&lt;/description&gt;</span></span>
<span id="cb1-102"><a href="#cb1-102" aria-hidden="true"></a>                        <span class="kw">&lt;maintainerName&gt;</span>Rob<span class="kw">&lt;/maintainerName&gt;</span></span>
<span id="cb1-103"><a href="#cb1-103" aria-hidden="true"></a>                        <span class="kw">&lt;maintainerFamilyName&gt;</span>Challen<span class="kw">&lt;/maintainerFamilyName&gt;</span></span>
<span id="cb1-104"><a href="#cb1-104" aria-hidden="true"></a>                        <span class="kw">&lt;maintainerEmail&gt;</span>rob@terminological.co.uk<span class="kw">&lt;/maintainerEmail&gt;</span></span>
<span id="cb1-105"><a href="#cb1-105" aria-hidden="true"></a>                        <span class="kw">&lt;maintainerOrganisation&gt;</span>terminological ltd.<span class="kw">&lt;/maintainerOrganisation&gt;</span></span>
<span id="cb1-106"><a href="#cb1-106" aria-hidden="true"></a>                        </span>
<span id="cb1-107"><a href="#cb1-107" aria-hidden="true"></a>                        <span class="co">&lt;!-- Build configuration options: --&gt;</span></span>
<span id="cb1-108"><a href="#cb1-108" aria-hidden="true"></a>                        </span>
<span id="cb1-109"><a href="#cb1-109" aria-hidden="true"></a>                        <span class="co">&lt;!-- starts the R library with Java code in remote </span></span>
<span id="cb1-110"><a href="#cb1-110" aria-hidden="true"></a><span class="co">                        debugging mode: --&gt;</span></span>
<span id="cb1-111"><a href="#cb1-111" aria-hidden="true"></a>                        <span class="kw">&lt;debug&gt;</span>false<span class="kw">&lt;/debug&gt;</span></span>
<span id="cb1-112"><a href="#cb1-112" aria-hidden="true"></a>                        </span>
<span id="cb1-113"><a href="#cb1-113" aria-hidden="true"></a>                        <span class="co">&lt;!-- Roxygen can integrate user supplied and generated R </span></span>
<span id="cb1-114"><a href="#cb1-114" aria-hidden="true"></a><span class="co">                        code, but requires a working R version on the system </span></span>
<span id="cb1-115"><a href="#cb1-115" aria-hidden="true"></a><span class="co">                        that generates the R package. This must be set if, like </span></span>
<span id="cb1-116"><a href="#cb1-116" aria-hidden="true"></a><span class="co">                        this package, you define some additional manual </span></span>
<span id="cb1-117"><a href="#cb1-117" aria-hidden="true"></a><span class="co">                        functions in your own `.R` files in the R directory </span></span>
<span id="cb1-118"><a href="#cb1-118" aria-hidden="true"></a><span class="co">                        beyond those generated by the package. This kind of </span></span>
<span id="cb1-119"><a href="#cb1-119" aria-hidden="true"></a><span class="co">                        hybrid java and R package must use devtools::document </span></span>
<span id="cb1-120"><a href="#cb1-120" aria-hidden="true"></a><span class="co">                        through this option to generate the correct NAMESPACE </span></span>
<span id="cb1-121"><a href="#cb1-121" aria-hidden="true"></a><span class="co">                        file and documentation. --&gt;</span></span>
<span id="cb1-122"><a href="#cb1-122" aria-hidden="true"></a>                        <span class="kw">&lt;useRoxygen2&gt;</span>true<span class="kw">&lt;/useRoxygen2&gt;</span> </span>
<span id="cb1-123"><a href="#cb1-123" aria-hidden="true"></a>                        </span>
<span id="cb1-124"><a href="#cb1-124" aria-hidden="true"></a>                        <span class="co">&lt;!-- Runs a R CMD Check as part of the maven build and abort on failure . --&gt;</span></span>
<span id="cb1-125"><a href="#cb1-125" aria-hidden="true"></a>                        <span class="kw">&lt;useCmdCheck&gt;</span>true<span class="kw">&lt;/useCmdCheck&gt;</span></span>
<span id="cb1-126"><a href="#cb1-126" aria-hidden="true"></a>                        </span>
<span id="cb1-127"><a href="#cb1-127" aria-hidden="true"></a>                         <span class="co">&lt;!-- Pkgdown will generate a nice looking site. if it fails the build will abort --&gt;</span> </span>
<span id="cb1-128"><a href="#cb1-128" aria-hidden="true"></a>                        <span class="kw">&lt;usePkgdown&gt;</span>true<span class="kw">&lt;/usePkgdown&gt;</span></span>
<span id="cb1-129"><a href="#cb1-129" aria-hidden="true"></a>                        </span>
<span id="cb1-130"><a href="#cb1-130" aria-hidden="true"></a>                        <span class="co">&lt;!-- building the javadocs into the documentation is nice but can add </span></span>
<span id="cb1-131"><a href="#cb1-131" aria-hidden="true"></a><span class="co">                        to the size of the package which is not helpful if submitting to CRAN --&gt;</span></span>
<span id="cb1-132"><a href="#cb1-132" aria-hidden="true"></a>                        <span class="kw">&lt;useJavadoc&gt;</span>false<span class="kw">&lt;/useJavadoc&gt;</span> </span>
<span id="cb1-133"><a href="#cb1-133" aria-hidden="true"></a>                        </span>
<span id="cb1-134"><a href="#cb1-134" aria-hidden="true"></a>                        <span class="co">&lt;!-- pre-compiling the binary if probably a safest option, where the compilation is done during maven build</span></span>
<span id="cb1-135"><a href="#cb1-135" aria-hidden="true"></a><span class="co">                        the alternative is to compile the java from source code on first use of the library from within R</span></span>
<span id="cb1-136"><a href="#cb1-136" aria-hidden="true"></a><span class="co">                        this requires the user to have a JDK installed, and uses a maven wrapper script --&gt;</span></span>
<span id="cb1-137"><a href="#cb1-137" aria-hidden="true"></a>                        <span class="kw">&lt;preCompileBinary&gt;</span>true<span class="kw">&lt;/preCompileBinary&gt;</span> </span>
<span id="cb1-138"><a href="#cb1-138" aria-hidden="true"></a>                        </span>
<span id="cb1-139"><a href="#cb1-139" aria-hidden="true"></a>                        <span class="co">&lt;!-- packaging all dependencies is the most robust but </span></span>
<span id="cb1-140"><a href="#cb1-140" aria-hidden="true"></a><span class="co">                        results in a large package size that may not be accepted on CRAN</span></span>
<span id="cb1-141"><a href="#cb1-141" aria-hidden="true"></a><span class="co">                        however this is the simplest if the main target is r-universe or deployment via github</span></span>
<span id="cb1-142"><a href="#cb1-142" aria-hidden="true"></a><span class="co">                        the alternative is to deploy a minimal jar and fetch all dependencies on first library use.</span></span>
<span id="cb1-143"><a href="#cb1-143" aria-hidden="true"></a><span class="co">                        this option only applies if the binary is precompiled in the previous option. --&gt;</span></span>
<span id="cb1-144"><a href="#cb1-144" aria-hidden="true"></a>                        <span class="kw">&lt;packageAllDependencies&gt;</span>true<span class="kw">&lt;/packageAllDependencies&gt;</span></span>
<span id="cb1-145"><a href="#cb1-145" aria-hidden="true"></a>                        </span>
<span id="cb1-146"><a href="#cb1-146" aria-hidden="true"></a>                        <span class="co">&lt;!-- Maven shade can minimise the size of JAR files by trimming bits that you don't actually use --&gt;</span></span>
<span id="cb1-147"><a href="#cb1-147" aria-hidden="true"></a>                        <span class="kw">&lt;useShadePlugin&gt;</span>true<span class="kw">&lt;/useShadePlugin&gt;</span></span>
<span id="cb1-148"><a href="#cb1-148" aria-hidden="true"></a>                        </span>
<span id="cb1-149"><a href="#cb1-149" aria-hidden="true"></a>                        <span class="co">&lt;!-- any rJava VM start up options can be added here --&gt;</span></span>
<span id="cb1-150"><a href="#cb1-150" aria-hidden="true"></a>                        <span class="kw">&lt;rjavaOpts&gt;</span></span>
<span id="cb1-151"><a href="#cb1-151" aria-hidden="true"></a>                            <span class="co">&lt;!-- this example sets the maximum heap size --&gt;</span></span>
<span id="cb1-152"><a href="#cb1-152" aria-hidden="true"></a>                            <span class="kw">&lt;rjavaOpt&gt;</span>-Xmx256M<span class="kw">&lt;/rjavaOpt&gt;</span></span>
<span id="cb1-153"><a href="#cb1-153" aria-hidden="true"></a>                        <span class="kw">&lt;/rjavaOpts&gt;</span></span>
<span id="cb1-154"><a href="#cb1-154" aria-hidden="true"></a>                        </span>
<span id="cb1-155"><a href="#cb1-155" aria-hidden="true"></a>                    <span class="kw">&lt;/packageData&gt;</span></span>
<span id="cb1-156"><a href="#cb1-156" aria-hidden="true"></a>                    <span class="co">&lt;!-- the best place to put the R package is in the directory above the java code</span></span>
<span id="cb1-157"><a href="#cb1-157" aria-hidden="true"></a><span class="co">                    and to have the java code in a `java` subdirectory of a github repo.</span></span>
<span id="cb1-158"><a href="#cb1-158" aria-hidden="true"></a><span class="co">                    i.e. this file would be `java/pom.xml`. This makes R optimally </span></span>
<span id="cb1-159"><a href="#cb1-159" aria-hidden="true"></a><span class="co">                    happy and is the best layout for new projects. --&gt;</span></span>
<span id="cb1-160"><a href="#cb1-160" aria-hidden="true"></a>                    <span class="kw">&lt;outputDirectory&gt;</span>${project.basedir}/..<span class="kw">&lt;/outputDirectory&gt;</span></span>
<span id="cb1-161"><a href="#cb1-161" aria-hidden="true"></a>                <span class="kw">&lt;/configuration&gt;</span></span>
<span id="cb1-162"><a href="#cb1-162" aria-hidden="true"></a>                <span class="kw">&lt;executions&gt;</span></span>
<span id="cb1-163"><a href="#cb1-163" aria-hidden="true"></a>                    <span class="kw">&lt;execution&gt;</span></span>
<span id="cb1-164"><a href="#cb1-164" aria-hidden="true"></a>                        <span class="kw">&lt;id&gt;</span>clean-r-library<span class="kw">&lt;/id&gt;</span></span>
<span id="cb1-165"><a href="#cb1-165" aria-hidden="true"></a>                        <span class="kw">&lt;goals&gt;</span></span>
<span id="cb1-166"><a href="#cb1-166" aria-hidden="true"></a>                            <span class="kw">&lt;goal&gt;</span>clean-r-library<span class="kw">&lt;/goal&gt;</span></span>
<span id="cb1-167"><a href="#cb1-167" aria-hidden="true"></a>                        <span class="kw">&lt;/goals&gt;</span></span>
<span id="cb1-168"><a href="#cb1-168" aria-hidden="true"></a>                    <span class="kw">&lt;/execution&gt;</span></span>
<span id="cb1-169"><a href="#cb1-169" aria-hidden="true"></a>                    <span class="kw">&lt;execution&gt;</span></span>
<span id="cb1-170"><a href="#cb1-170" aria-hidden="true"></a>                        <span class="kw">&lt;id&gt;</span>flatten-pom<span class="kw">&lt;/id&gt;</span></span>
<span id="cb1-171"><a href="#cb1-171" aria-hidden="true"></a>                        <span class="kw">&lt;goals&gt;</span></span>
<span id="cb1-172"><a href="#cb1-172" aria-hidden="true"></a>                            <span class="kw">&lt;goal&gt;</span>flatten-pom<span class="kw">&lt;/goal&gt;</span></span>
<span id="cb1-173"><a href="#cb1-173" aria-hidden="true"></a>                        <span class="kw">&lt;/goals&gt;</span></span>
<span id="cb1-174"><a href="#cb1-174" aria-hidden="true"></a>                    <span class="kw">&lt;/execution&gt;</span></span>
<span id="cb1-175"><a href="#cb1-175" aria-hidden="true"></a>                    <span class="kw">&lt;execution&gt;</span></span>
<span id="cb1-176"><a href="#cb1-176" aria-hidden="true"></a>                        <span class="kw">&lt;id&gt;</span>generate-r-library<span class="kw">&lt;/id&gt;</span></span>
<span id="cb1-177"><a href="#cb1-177" aria-hidden="true"></a>                        <span class="kw">&lt;goals&gt;</span></span>
<span id="cb1-178"><a href="#cb1-178" aria-hidden="true"></a>                            <span class="kw">&lt;goal&gt;</span>generate-r-library<span class="kw">&lt;/goal&gt;</span></span>
<span id="cb1-179"><a href="#cb1-179" aria-hidden="true"></a>                        <span class="kw">&lt;/goals&gt;</span></span>
<span id="cb1-180"><a href="#cb1-180" aria-hidden="true"></a>                    <span class="kw">&lt;/execution&gt;</span></span>
<span id="cb1-181"><a href="#cb1-181" aria-hidden="true"></a>                <span class="kw">&lt;/executions&gt;</span></span>
<span id="cb1-182"><a href="#cb1-182" aria-hidden="true"></a>            <span class="kw">&lt;/plugin&gt;</span></span>
<span id="cb1-183"><a href="#cb1-183" aria-hidden="true"></a>        <span class="kw">&lt;/plugins&gt;</span></span>
<span id="cb1-184"><a href="#cb1-184" aria-hidden="true"></a>    <span class="kw">&lt;/build&gt;</span></span>
<span id="cb1-185"><a href="#cb1-185" aria-hidden="true"></a>...</span>
<span id="cb1-186"><a href="#cb1-186" aria-hidden="true"></a><span class="kw">&lt;/project&gt;</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="the-r6-generator-runtime-java-library">The r6-generator-runtime Java library<a class="anchor" aria-label="anchor" href="#the-r6-generator-runtime-java-library"></a>
</h2>
<p>The <code>runtime</code> Java library contains code needed in the development of R compatible libraries in Java. These are the annotations that identify a Java Class as part of the R Api, (<code>uk.co.terminological.rjava.RClass</code> and <code>uk.co.terminological.rjava.RMethod</code>), specialised data types that can be round tripped between R and Java (in package <code>uk.co.terminological.rjava.types.*</code>), and various data conversion helpers (e.g. <code>uk.co.terminological.rjava.RConverter</code>) which can be used to accelerate development of an R centric API in Java.</p>
</div>
<div class="section level2">
<h2 id="github-maven-repository-declarations-for-both-code-and-plugins">Github maven repository declarations for both code and plugins<a class="anchor" aria-label="anchor" href="#github-maven-repository-declarations-for-both-code-and-plugins"></a>
</h2>
<p>Both the core maven plugin and the <code>runtime</code> library are available through the the maven central repository. The <code>${r6.version}</code> property is here set to <code>xx.xx.xx-SNAPSHOT</code> which retrieves the development version of the plugin. or could be <code>1.0</code> for stable versions. The most recent stable release version numbers will be available <a href="https://github.com/terminological/r6-generator-maven-plugin/tags" class="external-link">on the github releases page</a></p>
</div>
<div class="section level2">
<h2 id="plugin-configuration-for-the-r6-generator-maven-plugin">Plugin configuration for the r6-generator-maven-plugin<a class="anchor" aria-label="anchor" href="#plugin-configuration-for-the-r6-generator-maven-plugin"></a>
</h2>
<div class="section level3">
<h3 id="outputdirectory">outputDirectory<a class="anchor" aria-label="anchor" href="#outputdirectory"></a>
</h3>
<p>The plugin needs to know where to output the R library. In the example above this is <code>&lt;outputDirectory&gt;${project.basedir}/..&lt;/outputDirectory&gt;</code> which specifies the generated R package will reside in the directory above the java <code>pom.xml</code>. This infers that your Java code should be in a subdirectory of the R project (and hence the root of the Git repository). We recommend using the <code>java</code> directory for this. Keeping the Java source code within the R project is the best option as the resulting R package can be committed to GitHub with the Java source in the <code>java</code> directory (which is where R CMD Check expects sources to be). This may however be impossible if the Java library requires that is in the root of the github project. In this case the R and Java code can co-exist, and the <code>pom.xml</code> can be in the project root. This will be OK however if you plan on submitting your library to CRAN it will generate a few NOTES that will need to be explained.</p>
<p>If the R package is generated in a sub-directory of the Java code this has implications for the ability to compile that code from source from within R, and is generally a bad idea. In this case the fat JAR must be distributed with the R package and the fact that the R package is in a sub-directory will need to be be specified if the library is intended to be installed via GitHub (e.g. using <code>devtools::install_github("my-org/my-project")</code>. It is also equally possible to place the generated code into the root directory of the project (<code>${project.basedir}</code>) or indeed into a completely separate directory.</p>
</div>
<div class="section level3">
<h3 id="packagedata">packageData<a class="anchor" aria-label="anchor" href="#packagedata"></a>
</h3>
<p>The package data section includes metadata that describes the R library and a few control flags:</p>
<ul>
<li>
<code>title</code>
<ul>
<li>the title is used in description files and man pages</li>
</ul>
</li>
<li>
<code>version</code> (optional - defaults to <code>${package.version}</code>)
<ul>
<li>the version of the R package that will be generated. This can be either specified as a Java/Maven style semantic version (e.g. <code>xx.xx.xx-SNAPSHOT</code> by reusing the Maven <code>${package.version}</code>) or an R style version (<code>yy.yy.yy.9000</code>). If given as a Java/Maven style <code>-SNAPSHOT</code> version the generated R package will be one patch version less - so <code>1.0.0-SNAPSHOT</code> will generate an R package with version <code>0.99.99.9000</code>. This is to maintain consistent ordering between the two versioning styles when you are syncing the R package to Maven versions.</li>
</ul>
</li>
<li>
<code>debug</code> (optional - defaults to <code>false</code>)
<ul>
<li>a <code>true</code> or <code>false</code> value that determines whether remote java debugging should be compiled into the R package. Remote debugging affects performance and can prevent the loading of the R package if previous versions have not been unload correctly. This is useful only for debugging R to Java integration problems.</li>
</ul>
</li>
<li>
<code>usePkgdown</code> (optional - defaults to <code>false</code>)
<ul>
<li>If the generated R package is working and loads correctly we can use <code>r cran("pkgdown")</code> to generate online documentation. This will be generated in a <code>docs</code> sub-folder of the project <code>outputDirectory</code>. This can be pushed to GitHub and used as online documentation of the generated R library. Regardless of online documentation, the standard R <code>man</code> pages are generated for interactive help on the package. Pkgdown documentation will not be generated if the project is in debug mode.</li>
</ul>
</li>
<li>
<code>useRoxygen2</code> (optional - defaults to <code>false</code>)
<ul>
<li>If the generated R package is working and loads correctly we can use <em>devtools</em> to generate configuration files and man pages for the package using Roxygen2 annotations. This also allows co-existence of manually written and generated functions, within the same package. This is a fairly experimental feature and I can’t promise that generated code will not accidentally over-write manually written code. Use it at your own risk.</li>
</ul>
</li>
<li>
<code>useJavadoc</code> (optional - defaults to <code>false</code>)
<ul>
<li>Along side the R documentation it may be helpful to provide Javadocs of the Java back end of the library. These are generated into the <code>docs\javadoc</code> sub-folder.</li>
</ul>
</li>
<li>
<code>precompileBinary</code> (defaults to <code>true</code>)
<ul>
<li>Usually we wish to distribute a package with a compiled jar file of the Java code. In exceptional circumstances this can be replaced with a sources only distribution. In this case the Java code will be compiled on first use on the users machine, which should be done automatically. To make this possible the user must have a Java development kit installed.</li>
</ul>
</li>
<li>
<code>packageAllDependencies</code> (defaults to <code>true</code>, only relevant if <code>precompileBinary</code> is true)
<ul>
<li>A single jar file is created including all dependencies in one “uber-jar”. This is the most reliable option but transitive dependencies result in large Java libraries which will almost always exceed CRAN’s stringent 4Mb limits. This limit is not an issue if you plan on deploying to <code>r-universe</code>, which is how I package my projects. If this option is set to false then the resulting jar file will need to fetch dependencies from the internet on first use. This can be time consuming and a potential point of failure.</li>
</ul>
</li>
<li>
<code>useShadePlugin</code> (defaults to <code>false</code>, only relevant if <code>packageAllDependencies</code> is true)
<ul>
<li>The Maven shade plugin can be used to minimise the size of a “uber-jar” but sometimes removes essential pieces. This could work to reduce the size of a packaged jar file but thorough testing of the result is recommended.</li>
</ul>
</li>
<li>
<code>rjavaOpts\rjavaOpt</code>
<ul>
<li>A list of JVM flags can be provided that will be provided during the initialization of the Java Virtual Machine (JVM). In the example here the JVM is given 256Mb of heap space (<code>-Xmx256M</code>). Only one JVM is initialised regardless of how many different Java based R packages are used, and only the first one gets to decide the initial parameters. As such these options may be ignored by R if a JVM has already been created. Javadoc documentation will not be generated if the project is in debug mode.</li>
</ul>
</li>
<li>
<code>packageName</code>
<ul>
<li>the most important entry - the desired name of the package forms the name space for the package so it is best that it is short and has not already been used for a R package - e.g. don’t call it “stats”.</li>
</ul>
</li>
<li>
<code>license</code>
<ul>
<li>a license specification - it is best to use a <a href="https://cran.r-project.org/web/licenses/" class="external-link">CRAN friendly license</a>. N.B. This should be <code>MIT</code> rather than <code>MIT + file LICENSE</code>, the additional license file is added if needed.</li>
</ul>
</li>
<li>
<code>maintainerName</code>, <code>maintainerFamilyName</code>, <code>maintainerEmail</code>, <code>maintainerOrganisation</code>
<ul>
<li>the author details used here are supplemented by any author details found in <code>@Author</code> Java doclet tags in the code.</li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="goals">Goals<a class="anchor" aria-label="anchor" href="#goals"></a>
</h2>
<p>The plugin has three goals - <code>clean-r-library</code>, <code>flatten-pom</code> and <code>generate-r-library</code></p>
<ul>
<li>
<code>clean-r-library</code> (binds to Maven clean phase)
<ul>
<li>clear out old generated files leaving user modified files in place.</li>
</ul>
</li>
<li>
<code>flatten-pom</code> (binds to Maven process resources phase)
<ul>
<li>create a simplified pom, collapsing any details inherited from parent pom and removing dependencies on parent poms</li>
</ul>
</li>
<li>
<code>generate-r-library</code> (binds to Maven install phase)
<ul>
<li>run the code generator and install compiled jar into the R package.</li>
</ul>
</li>
</ul>
<p>In general all 3 goals should be run.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Rob Challen, Rob Challen, terminological.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
